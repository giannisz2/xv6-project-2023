# xv6-project-2023

Ιωάννης Ζερμπίνος - 1115202000053 DOCUMENTATION Αρχικά πρόσθεσα στην proc.h την μεταβλητή "int priority" στο struct proc οπου χρειάζεται για να επιστρέφει την προτεραιότητα της συγκεκριμένης διεργασίας, καθώς και το struct pstat που περιέχει διάφορα στοιχεία των διεργασιών. Έπειτα πρόσθεσα στην syscall.h δύο νέους αριθμούς που αντιστοιχούν στις δύο νέες κλήσεις συστήματος.

Μετά υλοποίησα τις δύο κλήσεις συστήματος στο sysproc.c ως εξής: Στην int setpriority(int): Αν οι προτεραιότητες των διεργασιών είναι μικρότερες του 1 ή μεγαλύτερες του 20 τότε επιστρέφει fail γιατί δεν επιτρέπονται άλλοι αριθμοί ως προτεραιότητες. Αλλιώς θέτει στην συγκεκριμένη διεργασία το num ως νέα προτεραιότητα και επιστρέφει 0, δηλαδή επιτυχία. Στην int getpinfo(struct pstat*): Απλά αρχικοποιούνται τα περιεχόμενα της δομής pstat με αυτά που περιέχει ήδη η proc.

Στη συνέχεια η υλοποίηση του ps.c κώδικα πραγματοποιήθηκε ως εξής: Mε ένα for loop μέχρι το 64 ελέγχω αν είναι RUNNABLE(ενεργή) η συγκεκριμένη διεργασία αφού αντιγραφούν τα δεδομένα της στο struct pstat* και αν είναι τότε εμφανίζω για αυτήν τα χαρακτηριστικά της.

Στην υλοποίηση του scheduler μέσα στο for loop διατρέχω ένα άλλο loop όπου βρίσκει το μικρότερο αριθμό (δηλαδή υψηλότερη προτεραιότητα) και το process που την κατέχει παίρνει την προτεραιότητα. Έπειτα ένα άλλο loop για να βρώ πόσες άλλες έχουν ίδια προτεραιότητα. Και τέλος ένα ακόμα για να αποθηκεύσω σε έναν πίνακα τα processes με την ίδια προτεραιότητα για να τρέξουν με round robin τρόπο.
